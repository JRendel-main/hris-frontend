<div class="row">
  <div class="col-xs-12">
    <div class="box">
      <div class="box-header">
        <h3 class="box-title">Attendance Tracking</h3>
        <div class="box-tools">
          <div class="input-group input-group-sm" style="width: 200px;">
            <input type="text" name="table_search" class="form-control pull-right" placeholder="Search attendance...">
            <div class="input-group-btn">
              <button type="submit" class="btn btn-default"><i class="fa fa-search"></i></button>
            </div>
          </div>
        </div>
      </div>
      <!-- /.box-header -->
      <div class="box-body table-responsive no-padding">
        <table class="table table-hover">
          <thead>
            <tr>
              <th>Employee</th>
              <th>Date</th>
              <th>Check In</th>
              <th>Check Out</th>
              <th>Working Hours</th>
              <th>Status</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="record in attendance">
              <td>{{ record.employee }}</td>
              <td>{{ record.date }}</td>
              <td>
                <span ng-class="{'text-success': record.checkIn !== '-', 'text-muted': record.checkIn === '-'}">
                  {{ record.checkIn }}
                </span>
              </td>
              <td>
                <span ng-class="{'text-success': record.checkOut !== '-', 'text-muted': record.checkOut === '-'}">
                  {{ record.checkOut }}
                </span>
              </td>
              <td>
                <span ng-class="{'text-success': record.hours >= 8, 'text-warning': record.hours > 0 && record.hours < 8, 'text-danger': record.hours === 0}">
                  {{ record.hours }} hrs
                </span>
              </td>
              <td>
                <status-label status="{{ record.status }}"></status-label>
              </td>
              <td>
                <button class="btn btn-xs btn-info" title="View Details">
                  <i class="fa fa-eye"></i>
                </button>
                <button class="btn btn-xs btn-warning" title="Edit Record">
                  <i class="fa fa-edit"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <!-- /.box-body -->
      <div class="box-footer">
        <div class="row">
          <div class="col-sm-6">
            <div class="dataTables_info" role="status" aria-live="polite">
              Showing {{ attendance.length }} entries
            </div>
          </div>
          <div class="col-sm-6">
            <div class="dataTables_paginate paging_simple_numbers">
              <ul class="pagination">
                <li class="paginate_button previous disabled">
                  <a href="#" aria-controls="example1" data-dt-idx="0" tabindex="0">Previous</a>
                </li>
                <li class="paginate_button active">
                  <a href="#" aria-controls="example1" data-dt-idx="1" tabindex="0">1</a>
                </li>
                <li class="paginate_button next disabled">
                  <a href="#" aria-controls="example1" data-dt-idx="2" tabindex="0">Next</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- /.box -->
  </div>
</div>

<!-- Attendance Statistics -->
<div class="row">
  <div class="col-lg-3 col-xs-6">
    <div class="small-box bg-aqua">
      <div class="inner">
        <h3>{{ (attendance | filter:{status:'present'}).length }}</h3>
        <p>Present Today</p>
      </div>
      <div class="icon">
        <i class="ion ion-checkmark-circled"></i>
      </div>
      <div class="small-box-footer">&nbsp;</div>
    </div>
  </div>
  <div class="col-lg-3 col-xs-6">
    <div class="small-box bg-green">
      <div class="inner">
        <h3>{{ (attendance | filter:{status:'absent'}).length }}</h3>
        <p>Absent Today</p>
      </div>
      <div class="icon">
        <i class="ion ion-close-circled"></i>
      </div>
      <div class="small-box-footer">&nbsp;</div>
    </div>
  </div>
  <div class="col-lg-3 col-xs-6">
    <div class="small-box bg-yellow">
      <div class="inner">
        <h3>{{ (attendance | filter:{status:'late'}).length }}</h3>
        <p>Late Arrivals</p>
      </div>
      <div class="icon">
        <i class="ion ion-clock"></i>
      </div>
      <div class="small-box-footer">&nbsp;</div>
    </div>
  </div>
  <div class="col-lg-3 col-xs-6">
    <div class="small-box bg-red">
      <div class="inner">
        <h3>8.4</h3>
        <p>Avg Working Hours</p>
      </div>
      <div class="icon">
        <i class="ion ion-android-time"></i>
      </div>
      <div class="small-box-footer">&nbsp;</div>
    </div>
  </div>
</div>

<!-- Monthly Attendance Overview -->
<div class="row">
  <div class="col-md-8">
    <div class="box box-primary">
      <div class="box-header with-border">
        <h3 class="box-title">Monthly Attendance Overview</h3>
        <div class="box-tools pull-right">
          <button type="button" class="btn btn-box-tool" data-widget="collapse">
            <i class="fa fa-minus"></i>
          </button>
        </div>
      </div>
      <div class="box-body">
        <div class="chart">
          <canvas id="attendanceChart" style="height: 300px;"></canvas>
        </div>
      </div>
    </div>
  </div>

  <div class="col-md-4">
    <div class="box box-solid">
      <div class="box-header with-border">
        <h3 class="box-title">Quick Actions</h3>
      </div>
      <div class="box-body">
        <button class="btn btn-app btn-block">
          <i class="fa fa-clock-o"></i> Manual Check-in
        </button>
        <button class="btn btn-app btn-block">
          <i class="fa fa-calendar"></i> View Calendar
        </button>
        <button class="btn btn-app btn-block">
          <i class="fa fa-file-excel-o"></i> Export Report
        </button>
        <button class="btn btn-app btn-block">
          <i class="fa fa-cog"></i> Settings
        </button>
      </div>
    </div>

    <!-- Today's Summary -->
    <div class="box box-info">
      <div class="box-header with-border">
        <h3 class="box-title">Today's Summary</h3>
      </div>
      <div class="box-body">
        <div class="progress-group">
          <span class="progress-text">On Time</span>
          <span class="progress-number"><b>18</b>/20</span>
          <div class="progress sm">
            <div class="progress-bar progress-bar-aqua" style="width: 90%"></div>
          </div>
        </div>
        <div class="progress-group">
          <span class="progress-text">Late</span>
          <span class="progress-number"><b>2</b>/20</span>
          <div class="progress sm">
            <div class="progress-bar progress-bar-yellow" style="width: 10%"></div>
          </div>
        </div>
        <div class="progress-group">
          <span class="progress-text">Absent</span>
          <span class="progress-number"><b>1</b>/20</span>
          <div class="progress sm">
            <div class="progress-bar progress-bar-red" style="width: 5%"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Employee Attendance Cards -->
<div class="row">
  <div class="col-md-12">
    <div class="box">
      <div class="box-header">
        <h3 class="box-title">Employee Attendance Status</h3>
      </div>
      <div class="box-body">
        <div class="row">
          <div class="col-md-3" ng-repeat="record in attendance.slice(0, 8)">
            <div class="info-box" ng-class="{'bg-green': record.status === 'present', 'bg-red': record.status === 'absent', 'bg-yellow': record.status === 'late'}">
              <span class="info-box-icon">
                <i ng-class="{'fa fa-check': record.status === 'present', 'fa fa-times': record.status === 'absent', 'fa fa-clock-o': record.status === 'late'}"></i>
              </span>
              <div class="info-box-content">
                <span class="info-box-text">{{ record.employee }}</span>
                <span class="info-box-number">{{ record.hours }} hrs</span>
                <div class="progress">
                  <div class="progress-bar" ng-style="{'width': (record.hours / 8) * 100 + '%'}"></div>
                </div>
                <span class="progress-description">
                  {{ record.checkIn }} - {{ record.checkOut }}
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Action buttons -->
<div class="row">
  <div class="col-xs-12">
    <button type="button" class="btn btn-success">
      <i class="fa fa-plus"></i> Add Manual Entry
    </button>
    <button type="button" class="btn btn-primary">
      <i class="fa fa-download"></i> Export Attendance
    </button>
    <button type="button" class="btn btn-info">
      <i class="fa fa-calendar"></i> Monthly Report
    </button>
    <button type="button" class="btn btn-warning">
      <i class="fa fa-bell"></i> Send Reminders
    </button>
  </div>
</div>
